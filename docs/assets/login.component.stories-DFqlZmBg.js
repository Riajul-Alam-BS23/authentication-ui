var Dt=Object.defineProperty;var kt=(e,s,t)=>s in e?Dt(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var ee=(e,s,t)=>kt(e,typeof s!="symbol"?s+"":s,t);import{j as W}from"./jsx-runtime-CkxqCPlQ.js";import{R as M,r as Tt}from"./index-DJO9vBfz.js";import{a as Pt}from"./client-B4UVGb6P.js";import"./index-DJdX7xnk.js";var pe=e=>e.type==="checkbox",ue=e=>e instanceof Date,O=e=>e==null;const gt=e=>typeof e=="object";var N=e=>!O(e)&&!Array.isArray(e)&&gt(e)&&!ue(e),Rt=e=>N(e)&&e.target?pe(e.target)?e.target.checked:e.target.value:e,Mt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ot=(e,s)=>e.has(Mt(s)),qt=e=>{const s=e.constructor&&e.constructor.prototype;return N(s)&&s.hasOwnProperty("isPrototypeOf")},Pe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $(e){let s;const t=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Pe&&(e instanceof Blob||e instanceof FileList))&&(t||N(e)))if(s=t?[]:{},!t&&!qt(e))s=e;else for(const n in e)e.hasOwnProperty(n)&&(s[n]=$(e[n]));else return e;return s}var Ee=e=>Array.isArray(e)?e.filter(Boolean):[],S=e=>e===void 0,f=(e,s,t)=>{if(!s||!N(e))return t;const n=Ee(s.split(/[,[\].]+?/)).reduce((l,o)=>O(l)?l:l[o],e);return S(n)||n===e?S(e[s])?t:e[s]:n},G=e=>typeof e=="boolean",Re=e=>/^\w*$/.test(e),bt=e=>Ee(e.replace(/["|']|\]/g,"").split(/\.|\[/)),F=(e,s,t)=>{let n=-1;const l=Re(s)?[s]:bt(s),o=l.length,m=o-1;for(;++n<o;){const g=l[n];let k=t;if(n!==m){const B=e[g];k=N(B)||Array.isArray(B)?B:isNaN(+l[n+1])?{}:[]}if(g==="__proto__")return;e[g]=k,e=e[g]}return e};const Ge={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};M.createContext(null);var Ut=(e,s,t,n=!0)=>{const l={defaultValues:s._defaultValues};for(const o in e)Object.defineProperty(l,o,{get:()=>{const m=o;return s._proxyFormState[m]!==K.all&&(s._proxyFormState[m]=!n||K.all),e[m]}});return l},q=e=>N(e)&&!Object.keys(e).length,It=(e,s,t,n)=>{t(e);const{name:l,...o}=e;return q(o)||Object.keys(o).length>=Object.keys(s).length||Object.keys(o).find(m=>s[m]===K.all)},xe=e=>Array.isArray(e)?e:[e];function Bt(e){const s=M.useRef(e);s.current=e,M.useEffect(()=>{const t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var Q=e=>typeof e=="string",zt=(e,s,t,n,l)=>Q(e)?(n&&s.watch.add(e),f(t,e,l)):Array.isArray(e)?e.map(o=>(n&&s.watch.add(o),f(t,o))):(n&&(s.watchAll=!0),t),jt=(e,s,t,n,l)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[n]:l||!0}}:{},Qe=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched}),Xe=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ve=(e,s,t,n)=>{for(const l of t||Object.keys(e)){const o=f(e,l);if(o){const{_f:m,...g}=o;if(m){if(m.refs&&m.refs[0]&&s(m.refs[0],l)&&!n)return!0;if(m.ref&&s(m.ref,m.name)&&!n)return!0;if(ve(g,s))break}else if(N(g)&&ve(g,s))break}}};var Ht=(e,s,t)=>{const n=xe(f(e,t));return F(n,"root",s[t]),F(e,t,n),e},Me=e=>e.type==="file",re=e=>typeof e=="function",Ae=e=>{if(!Pe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},_e=e=>Q(e),Oe=e=>e.type==="radio",Fe=e=>e instanceof RegExp;const Ze={value:!1,isValid:!1},et={value:!0,isValid:!0};var ht=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?et:{value:e[0].value,isValid:!0}:et:Ze}return Ze};const tt={isValid:!1,value:null};var vt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,tt):tt;function rt(e,s,t="validate"){if(_e(e)||Array.isArray(e)&&e.every(_e)||G(e)&&!e)return{type:t,message:_e(e)?e:"",ref:s}}var ce=e=>N(e)&&!Fe(e)?e:{value:e,message:""},st=async(e,s,t,n,l)=>{const{ref:o,refs:m,required:g,maxLength:k,minLength:B,min:w,max:h,pattern:ne,validate:J,name:T,valueAsNumber:fe,mount:_,disabled:z}=e._f,p=f(s,T);if(!_||z)return{};const j=m?m[0]:o,H=b=>{n&&j.reportValidity&&(j.setCustomValidity(G(b)?"":b||""),j.reportValidity())},E={},X=Oe(o),ae=pe(o),Y=X||ae,Z=(fe||Me(o))&&S(o.value)&&S(p)||Ae(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,P=jt.bind(null,T,t,E),oe=(b,x,V,A=te.maxLength,U=te.minLength)=>{const R=b?x:V;E[T]={type:b?A:U,message:R,ref:o,...P(b?A:U,R)}};if(l?!Array.isArray(p)||!p.length:g&&(!Y&&(Z||O(p))||G(p)&&!p||ae&&!ht(m).isValid||X&&!vt(m).isValid)){const{value:b,message:x}=_e(g)?{value:!!g,message:g}:ce(g);if(b&&(E[T]={type:te.required,message:x,ref:j,...P(te.required,x)},!t))return H(x),E}if(!Z&&(!O(w)||!O(h))){let b,x;const V=ce(h),A=ce(w);if(!O(p)&&!isNaN(p)){const U=o.valueAsNumber||p&&+p;O(V.value)||(b=U>V.value),O(A.value)||(x=U<A.value)}else{const U=o.valueAsDate||new Date(p),R=de=>new Date(new Date().toDateString()+" "+de),se=o.type=="time",I=o.type=="week";Q(V.value)&&p&&(b=se?R(p)>R(V.value):I?p>V.value:U>new Date(V.value)),Q(A.value)&&p&&(x=se?R(p)<R(A.value):I?p<A.value:U<new Date(A.value))}if((b||x)&&(oe(!!b,V.message,A.message,te.max,te.min),!t))return H(E[T].message),E}if((k||B)&&!Z&&(Q(p)||l&&Array.isArray(p))){const b=ce(k),x=ce(B),V=!O(b.value)&&p.length>+b.value,A=!O(x.value)&&p.length<+x.value;if((V||A)&&(oe(V,b.message,x.message),!t))return H(E[T].message),E}if(ne&&!Z&&Q(p)){const{value:b,message:x}=ce(ne);if(Fe(b)&&!p.match(b)&&(E[T]={type:te.pattern,message:x,ref:o,...P(te.pattern,x)},!t))return H(x),E}if(J){if(re(J)){const b=await J(p,s),x=rt(b,j);if(x&&(E[T]={...x,...P(te.validate,x.message)},!t))return H(x.message),E}else if(N(J)){let b={};for(const x in J){if(!q(b)&&!t)break;const V=rt(await J[x](p,s),j,x);V&&(b={...V,...P(x,V.message)},H(V.message),t&&(E[T]=b))}if(!q(b)&&(E[T]={ref:j,...b},!t))return E}}return H(!0),E};function $t(e,s){const t=s.slice(0,-1).length;let n=0;for(;n<t;)e=S(e)?n++:e[s[n++]];return e}function Wt(e){for(const s in e)if(e.hasOwnProperty(s)&&!S(e[s]))return!1;return!0}function L(e,s){const t=Array.isArray(s)?s:Re(s)?[s]:bt(s),n=t.length===1?e:$t(e,t),l=t.length-1,o=t[l];return n&&delete n[o],l!==0&&(N(n)&&q(n)||Array.isArray(n)&&Wt(n))&&L(e,t.slice(0,-1)),e}var Ce=()=>{let e=[];return{get observers(){return e},next:l=>{for(const o of e)o.next&&o.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(o=>o!==l)}}),unsubscribe:()=>{e=[]}}},Te=e=>O(e)||!gt(e);function ie(e,s){if(Te(e)||Te(s))return e===s;if(ue(e)&&ue(s))return e.getTime()===s.getTime();const t=Object.keys(e),n=Object.keys(s);if(t.length!==n.length)return!1;for(const l of t){const o=e[l];if(!n.includes(l))return!1;if(l!=="ref"){const m=s[l];if(ue(o)&&ue(m)||N(o)&&N(m)||Array.isArray(o)&&Array.isArray(m)?!ie(o,m):o!==m)return!1}}return!0}var pt=e=>e.type==="select-multiple",Jt=e=>Oe(e)||pe(e),De=e=>Ae(e)&&e.isConnected,xt=e=>{for(const s in e)if(re(e[s]))return!0;return!1};function we(e,s={}){const t=Array.isArray(e);if(N(e)||t)for(const n in e)Array.isArray(e[n])||N(e[n])&&!xt(e[n])?(s[n]=Array.isArray(e[n])?[]:{},we(e[n],s[n])):O(e[n])||(s[n]=!0);return s}function _t(e,s,t){const n=Array.isArray(e);if(N(e)||n)for(const l in e)Array.isArray(e[l])||N(e[l])&&!xt(e[l])?S(s)||Te(t[l])?t[l]=Array.isArray(e[l])?we(e[l],[]):{...we(e[l])}:_t(e[l],O(s)?{}:s[l],t[l]):t[l]=!ie(e[l],s[l]);return t}var me=(e,s)=>_t(e,s,we(s)),At=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:n})=>S(e)?e:s?e===""?NaN:e&&+e:t&&Q(e)?new Date(e):n?n(e):e;function ke(e){const s=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):s.disabled))return Me(s)?s.files:Oe(s)?vt(e.refs).value:pt(s)?[...s.selectedOptions].map(({value:t})=>t):pe(s)?ht(e.refs).value:At(S(s.value)?e.ref.value:s.value,e)}var Kt=(e,s,t,n)=>{const l={};for(const o of e){const m=f(s,o);m&&F(l,o,m._f)}return{criteriaMode:t,names:[...e],fields:l,shouldUseNativeValidation:n}},ye=e=>S(e)?e:Fe(e)?e.source:N(e)?Fe(e.value)?e.value.source:e.value:e;const it="AsyncFunction";var Yt=e=>(!e||!e.validate)&&!!(re(e.validate)&&e.validate.constructor.name===it||N(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===it)),Gt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function nt(e,s,t){const n=f(e,t);if(n||Re(t))return{error:n,name:t};const l=t.split(".");for(;l.length;){const o=l.join("."),m=f(s,o),g=f(e,o);if(m&&!Array.isArray(m)&&t!==o)return{name:t};if(g&&g.type)return{name:o,error:g};l.pop()}return{name:t}}var Qt=(e,s,t,n,l)=>l.isOnAll?!1:!t&&l.isOnTouch?!(s||e):(t?n.isOnBlur:l.isOnBlur)?!e:(t?n.isOnChange:l.isOnChange)?e:!0,Xt=(e,s)=>!Ee(f(e,s)).length&&L(e,s);const Zt={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function er(e={}){let s={...Zt,...e},t={submitCount:0,isDirty:!1,isLoading:re(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},n={},l=N(s.defaultValues)||N(s.values)?$(s.defaultValues||s.values)||{}:{},o=s.shouldUnregister?{}:$(l),m={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},k,B=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ce(),array:Ce(),state:Ce()},ne=Qe(s.mode),J=Qe(s.reValidateMode),T=s.criteriaMode===K.all,fe=r=>i=>{clearTimeout(B),B=setTimeout(r,i)},_=async r=>{if(!e.disabled&&(w.isValid||r)){const i=s.resolver?q((await Y()).errors):await P(n,!0);i!==t.isValid&&h.state.next({isValid:i})}},z=(r,i)=>{!e.disabled&&(w.isValidating||w.validatingFields)&&((r||Array.from(g.mount)).forEach(a=>{a&&(i?F(t.validatingFields,a,i):L(t.validatingFields,a))}),h.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},p=(r,i=[],a,c,d=!0,u=!0)=>{if(c&&a&&!e.disabled){if(m.action=!0,u&&Array.isArray(f(n,r))){const y=a(f(n,r),c.argA,c.argB);d&&F(n,r,y)}if(u&&Array.isArray(f(t.errors,r))){const y=a(f(t.errors,r),c.argA,c.argB);d&&F(t.errors,r,y),Xt(t.errors,r)}if(w.touchedFields&&u&&Array.isArray(f(t.touchedFields,r))){const y=a(f(t.touchedFields,r),c.argA,c.argB);d&&F(t.touchedFields,r,y)}w.dirtyFields&&(t.dirtyFields=me(l,o)),h.state.next({name:r,isDirty:b(r,i),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else F(o,r,i)},j=(r,i)=>{F(t.errors,r,i),h.state.next({errors:t.errors})},H=r=>{t.errors=r,h.state.next({errors:t.errors,isValid:!1})},E=(r,i,a,c)=>{const d=f(n,r);if(d){const u=f(o,r,S(a)?f(l,r):a);S(u)||c&&c.defaultChecked||i?F(o,r,i?u:ke(d._f)):A(r,u),m.mount&&_()}},X=(r,i,a,c,d)=>{let u=!1,y=!1;const v={name:r};if(!e.disabled){const C=!!(f(n,r)&&f(n,r)._f&&f(n,r)._f.disabled);if(!a||c){w.isDirty&&(y=t.isDirty,t.isDirty=v.isDirty=b(),u=y!==v.isDirty);const D=C||ie(f(l,r),i);y=!!(!C&&f(t.dirtyFields,r)),D||C?L(t.dirtyFields,r):F(t.dirtyFields,r,!0),v.dirtyFields=t.dirtyFields,u=u||w.dirtyFields&&y!==!D}if(a){const D=f(t.touchedFields,r);D||(F(t.touchedFields,r,a),v.touchedFields=t.touchedFields,u=u||w.touchedFields&&D!==a)}u&&d&&h.state.next(v)}return u?v:{}},ae=(r,i,a,c)=>{const d=f(t.errors,r),u=w.isValid&&G(i)&&t.isValid!==i;if(e.delayError&&a?(k=fe(()=>j(r,a)),k(e.delayError)):(clearTimeout(B),k=null,a?F(t.errors,r,a):L(t.errors,r)),(a?!ie(d,a):d)||!q(c)||u){const y={...c,...u&&G(i)?{isValid:i}:{},errors:t.errors,name:r};t={...t,...y},h.state.next(y)}},Y=async r=>{z(r,!0);const i=await s.resolver(o,s.context,Kt(r||g.mount,n,s.criteriaMode,s.shouldUseNativeValidation));return z(r),i},Z=async r=>{const{errors:i}=await Y(r);if(r)for(const a of r){const c=f(i,a);c?F(t.errors,a,c):L(t.errors,a)}else t.errors=i;return i},P=async(r,i,a={valid:!0})=>{for(const c in r){const d=r[c];if(d){const{_f:u,...y}=d;if(u){const v=g.array.has(u.name),C=d._f&&Yt(d._f);C&&w.validatingFields&&z([c],!0);const D=await st(d,o,T,s.shouldUseNativeValidation&&!i,v);if(C&&w.validatingFields&&z([c]),D[u.name]&&(a.valid=!1,i))break;!i&&(f(D,u.name)?v?Ht(t.errors,D,u.name):F(t.errors,u.name,D[u.name]):L(t.errors,u.name))}!q(y)&&await P(y,i,a)}}return a.valid},oe=()=>{for(const r of g.unMount){const i=f(n,r);i&&(i._f.refs?i._f.refs.every(a=>!De(a)):!De(i._f.ref))&&Ve(r)}g.unMount=new Set},b=(r,i)=>!e.disabled&&(r&&i&&F(o,r,i),!ie(Ie(),l)),x=(r,i,a)=>zt(r,g,{...m.mount?o:S(i)?l:Q(r)?{[r]:i}:i},a,i),V=r=>Ee(f(m.mount?o:l,r,e.shouldUnregister?f(l,r,[]):[])),A=(r,i,a={})=>{const c=f(n,r);let d=i;if(c){const u=c._f;u&&(!u.disabled&&F(o,r,At(i,u)),d=Ae(u.ref)&&O(i)?"":i,pt(u.ref)?[...u.ref.options].forEach(y=>y.selected=d.includes(y.value)):u.refs?pe(u.ref)?u.refs.length>1?u.refs.forEach(y=>(!y.defaultChecked||!y.disabled)&&(y.checked=Array.isArray(d)?!!d.find(v=>v===y.value):d===y.value)):u.refs[0]&&(u.refs[0].checked=!!d):u.refs.forEach(y=>y.checked=y.value===d):Me(u.ref)?u.ref.value="":(u.ref.value=d,u.ref.type||h.values.next({name:r,values:{...o}})))}(a.shouldDirty||a.shouldTouch)&&X(r,d,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&de(r)},U=(r,i,a)=>{for(const c in i){const d=i[c],u=`${r}.${c}`,y=f(n,u);(g.array.has(r)||N(d)||y&&!y._f)&&!ue(d)?U(u,d,a):A(u,d,a)}},R=(r,i,a={})=>{const c=f(n,r),d=g.array.has(r),u=$(i);F(o,r,u),d?(h.array.next({name:r,values:{...o}}),(w.isDirty||w.dirtyFields)&&a.shouldDirty&&h.state.next({name:r,dirtyFields:me(l,o),isDirty:b(r,u)})):c&&!c._f&&!O(u)?U(r,u,a):A(r,u,a),Xe(r,g)&&h.state.next({...t}),h.values.next({name:m.mount?r:void 0,values:{...o}})},se=async r=>{m.mount=!0;const i=r.target;let a=i.name,c=!0;const d=f(n,a),u=()=>i.type?ke(d._f):Rt(r),y=v=>{c=Number.isNaN(v)||ue(v)&&isNaN(v.getTime())||ie(v,f(o,a,v))};if(d){let v,C;const D=u(),le=r.type===Ge.BLUR||r.type===Ge.FOCUS_OUT,Nt=!Gt(d._f)&&!s.resolver&&!f(t.errors,a)&&!d._f.deps||Qt(le,f(t.touchedFields,a),t.isSubmitted,J,ne),Ne=Xe(a,g,le);F(o,a,D),le?(d._f.onBlur&&d._f.onBlur(r),k&&k(0)):d._f.onChange&&d._f.onChange(r);const Le=X(a,D,le,!1),Lt=!q(Le)||Ne;if(!le&&h.values.next({name:a,type:r.type,values:{...o}}),Nt)return w.isValid&&(e.mode==="onBlur"?le&&_():_()),Lt&&h.state.next({name:a,...Ne?{}:Le});if(!le&&Ne&&h.state.next({...t}),s.resolver){const{errors:Ke}=await Y([a]);if(y(D),c){const Ct=nt(t.errors,n,a),Ye=nt(Ke,n,Ct.name||a);v=Ye.error,a=Ye.name,C=q(Ke)}}else z([a],!0),v=(await st(d,o,T,s.shouldUseNativeValidation))[a],z([a]),y(D),c&&(v?C=!1:w.isValid&&(C=await P(n,!0)));c&&(d._f.deps&&de(d._f.deps),ae(a,C,v,Le))}},I=(r,i)=>{if(f(t.errors,i)&&r.focus)return r.focus(),1},de=async(r,i={})=>{let a,c;const d=xe(r);if(s.resolver){const u=await Z(S(r)?r:d);a=q(u),c=r?!d.some(y=>f(u,y)):a}else r?(c=(await Promise.all(d.map(async u=>{const y=f(n,u);return await P(y&&y._f?{[u]:y}:y)}))).every(Boolean),!(!c&&!t.isValid)&&_()):c=a=await P(n);return h.state.next({...!Q(r)||w.isValid&&a!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:a}:{},errors:t.errors}),i.shouldFocus&&!c&&ve(n,I,r?d:g.mount),c},Ie=r=>{const i={...m.mount?o:l};return S(r)?i:Q(r)?f(i,r):r.map(a=>f(i,a))},Be=(r,i)=>({invalid:!!f((i||t).errors,r),isDirty:!!f((i||t).dirtyFields,r),error:f((i||t).errors,r),isValidating:!!f(t.validatingFields,r),isTouched:!!f((i||t).touchedFields,r)}),wt=r=>{r&&xe(r).forEach(i=>L(t.errors,i)),h.state.next({errors:r?t.errors:{}})},ze=(r,i,a)=>{const c=(f(n,r,{_f:{}})._f||{}).ref,d=f(t.errors,r)||{},{ref:u,message:y,type:v,...C}=d;F(t.errors,r,{...C,...i,ref:c}),h.state.next({name:r,errors:t.errors,isValid:!1}),a&&a.shouldFocus&&c&&c.focus&&c.focus()},Et=(r,i)=>re(r)?h.values.subscribe({next:a=>r(x(void 0,i),a)}):x(r,i,!0),Ve=(r,i={})=>{for(const a of r?xe(r):g.mount)g.mount.delete(a),g.array.delete(a),i.keepValue||(L(n,a),L(o,a)),!i.keepError&&L(t.errors,a),!i.keepDirty&&L(t.dirtyFields,a),!i.keepTouched&&L(t.touchedFields,a),!i.keepIsValidating&&L(t.validatingFields,a),!s.shouldUnregister&&!i.keepDefaultValue&&L(l,a);h.values.next({values:{...o}}),h.state.next({...t,...i.keepDirty?{isDirty:b()}:{}}),!i.keepIsValid&&_()},je=({disabled:r,name:i,field:a,fields:c,value:d})=>{if(G(r)&&m.mount||r){const u=r?void 0:S(d)?ke(a?a._f:f(c,i)._f):d;F(o,i,u),X(i,u,!1,!1,!0)}},Se=(r,i={})=>{let a=f(n,r);const c=G(i.disabled)||G(e.disabled);return F(n,r,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:r}},name:r,mount:!0,...i}}),g.mount.add(r),a?je({field:a,disabled:G(i.disabled)?i.disabled:e.disabled,name:r,value:i.value}):E(r,!0,i.value),{...c?{disabled:i.disabled||e.disabled}:{},...s.progressive?{required:!!i.required,min:ye(i.min),max:ye(i.max),minLength:ye(i.minLength),maxLength:ye(i.maxLength),pattern:ye(i.pattern)}:{},name:r,onChange:se,onBlur:se,ref:d=>{if(d){Se(r,i),a=f(n,r);const u=S(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,y=Jt(u),v=a._f.refs||[];if(y?v.find(C=>C===u):u===a._f.ref)return;F(n,r,{_f:{...a._f,...y?{refs:[...v.filter(De),u,...Array.isArray(f(l,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),E(r,!1,void 0,u)}else a=f(n,r,{}),a._f&&(a._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(Ot(g.array,r)&&m.action)&&g.unMount.add(r)}}},He=()=>s.shouldFocusError&&ve(n,I,g.mount),Vt=r=>{G(r)&&(h.state.next({disabled:r}),ve(n,(i,a)=>{const c=f(n,a);c&&(i.disabled=c._f.disabled||r,Array.isArray(c._f.refs)&&c._f.refs.forEach(d=>{d.disabled=c._f.disabled||r}))},0,!1))},$e=(r,i)=>async a=>{let c;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let d=$(o);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:u,values:y}=await Y();t.errors=u,d=y}else await P(n);if(L(t.errors,"root"),q(t.errors)){h.state.next({errors:{}});try{await r(d,a)}catch(u){c=u}}else i&&await i({...t.errors},a),He(),setTimeout(He);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!c,submitCount:t.submitCount+1,errors:t.errors}),c)throw c},St=(r,i={})=>{f(n,r)&&(S(i.defaultValue)?R(r,$(f(l,r))):(R(r,i.defaultValue),F(l,r,$(i.defaultValue))),i.keepTouched||L(t.touchedFields,r),i.keepDirty||(L(t.dirtyFields,r),t.isDirty=i.defaultValue?b(r,$(f(l,r))):b()),i.keepError||(L(t.errors,r),w.isValid&&_()),h.state.next({...t}))},We=(r,i={})=>{const a=r?$(r):l,c=$(a),d=q(r),u=d?l:c;if(i.keepDefaultValues||(l=a),!i.keepValues){if(i.keepDirtyValues){const y=new Set([...g.mount,...Object.keys(me(l,o))]);for(const v of Array.from(y))f(t.dirtyFields,v)?F(u,v,f(o,v)):R(v,f(u,v))}else{if(Pe&&S(r))for(const y of g.mount){const v=f(n,y);if(v&&v._f){const C=Array.isArray(v._f.refs)?v._f.refs[0]:v._f.ref;if(Ae(C)){const D=C.closest("form");if(D){D.reset();break}}}}n={}}o=e.shouldUnregister?i.keepDefaultValues?$(l):{}:$(u),h.array.next({values:{...u}}),h.values.next({values:{...u}})}g={mount:i.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},m.mount=!w.isValid||!!i.keepIsValid||!!i.keepDirtyValues,m.watch=!!e.shouldUnregister,h.state.next({submitCount:i.keepSubmitCount?t.submitCount:0,isDirty:d?!1:i.keepDirty?t.isDirty:!!(i.keepDefaultValues&&!ie(r,l)),isSubmitted:i.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:i.keepDirtyValues?i.keepDefaultValues&&o?me(l,o):t.dirtyFields:i.keepDefaultValues&&r?me(l,r):i.keepDirty?t.dirtyFields:{},touchedFields:i.keepTouched?t.touchedFields:{},errors:i.keepErrors?t.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(r,i)=>We(re(r)?r(o):r,i);return{control:{register:Se,unregister:Ve,getFieldState:Be,handleSubmit:$e,setError:ze,_executeSchema:Y,_getWatch:x,_getDirty:b,_updateValid:_,_removeUnmounted:oe,_updateFieldArray:p,_updateDisabledField:je,_getFieldArray:V,_reset:We,_resetDefaultValues:()=>re(s.defaultValues)&&s.defaultValues().then(r=>{Je(r,s.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:r=>{t={...t,...r}},_disableForm:Vt,_subjects:h,_proxyFormState:w,_setErrors:H,get _fields(){return n},get _formValues(){return o},get _state(){return m},set _state(r){m=r},get _defaultValues(){return l},get _names(){return g},set _names(r){g=r},get _formState(){return t},set _formState(r){t=r},get _options(){return s},set _options(r){s={...s,...r}}},trigger:de,register:Se,handleSubmit:$e,watch:Et,setValue:R,getValues:Ie,reset:Je,resetField:St,clearErrors:wt,unregister:Ve,setError:ze,setFocus:(r,i={})=>{const a=f(n,r),c=a&&a._f;if(c){const d=c.refs?c.refs[0]:c.ref;d.focus&&(d.focus(),i.shouldSelect&&d.select())}},getFieldState:Be}}function tr(e={}){const s=M.useRef(),t=M.useRef(),[n,l]=M.useState({isDirty:!1,isValidating:!1,isLoading:re(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:re(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...er(e),formState:n});const o=s.current.control;return o._options=e,Bt({subject:o._subjects.state,next:m=>{It(m,o._proxyFormState,o._updateFormState)&&l({...o._formState})}}),M.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),M.useEffect(()=>{if(o._proxyFormState.isDirty){const m=o._getDirty();m!==n.isDirty&&o._subjects.state.next({isDirty:m})}},[o,n.isDirty]),M.useEffect(()=>{e.values&&!ie(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values,l(m=>({...m}))):o._resetDefaultValues()},[e.values,o]),M.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),M.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),M.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),M.useEffect(()=>{s.current&&(s.current.watch=s.current.watch.bind({}))},[n]),s.current.formState=Ut(n,o),s.current}const Ft=({formName:e,buttonColor:s,buttonSize:t,buttonName:n,buttonPosition:l,formField:o,dispatchEvent:m})=>{const[g,k]=Tt.useState(null),{register:B,handleSubmit:w,formState:{errors:h,isValid:ne,isSubmitting:J},reset:T}=tr({mode:"onChange",reValidateMode:"onChange"}),fe=_=>{try{const z=new CustomEvent("login-submit",{detail:_,bubbles:!0,composed:!0});m(z),k("Form submitted successfully!"),T()}catch{k("Submission failed. Please try again.")}setTimeout(()=>k(null),3e3)};return W.jsx("div",{className:"flex items-center justify-center min-h-screen",children:W.jsxs("div",{className:"w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl space-y-6 relative bg-white border border-gray-300 shadow-lg p-8 rounded-lg",children:[W.jsx("h2",{className:"text-2xl font-bold text-center text-gray-700",children:e}),g&&W.jsx("div",{className:"absolute top-0 right-0 p-2 mt-2 mr-2 text-sm font-semibold text-white bg-green-500 rounded-md shadow-md",children:g}),W.jsxs("form",{className:"space-y-4",onSubmit:w(fe),children:[o.map((_,z)=>{var p,j,H,E,X,ae,Y,Z,P,oe,b,x,V;return W.jsxs("div",{className:"flex flex-col",children:[_.fieldLabel&&W.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1 text-left",children:_.fieldLabel}),W.jsx("input",{type:_.fieldType,placeholder:_.placeholder||`Enter your ${(p=_.fieldLabel)==null?void 0:p.toLowerCase()}`,...B(_.fieldName,{required:((H=(j=_.validators)==null?void 0:j.find(A=>A.type==="required"))==null?void 0:H.message)??"This field is required",minLength:{value:((X=(E=_.validators)==null?void 0:E.find(A=>A.type==="minLength"))==null?void 0:X.value)||0,message:((Y=(ae=_.validators)==null?void 0:ae.find(A=>A.type==="minLength"))==null?void 0:Y.message)??"Minimum length not met"},maxLength:{value:((P=(Z=_.validators)==null?void 0:Z.find(A=>A.type==="maxLength"))==null?void 0:P.value)||100,message:((b=(oe=_.validators)==null?void 0:oe.find(A=>A.type==="maxLength"))==null?void 0:b.message)??"Maximum length exceeded"},validate:A=>{var R,se;if(_.fieldType==="email"&&((R=_.validators)!=null&&R.some(I=>I.type==="email"))&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(A))return"Invalid email format";const U=(se=_.validators)==null?void 0:se.filter(I=>I.type==="regex");for(const I of U??[])if(!new RegExp(I.value).test(A))return I.message;return!0}}),className:`w-full px-4 py-2 border rounded-md focus:outline-none transition-all duration-200 ${h[_.fieldName]?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-400"}`}),((x=h[_.fieldName])==null?void 0:x.message)&&W.jsx("div",{className:"text-xs text-red-600 mt-1",children:String((V=h[_.fieldName])==null?void 0:V.message)})]},`${_.fieldLabel}-${z}`)}),W.jsx("button",{type:"submit",disabled:!ne||J,className:`font-semibold ${t} text-white rounded-md ${l} ${ne&&!J?`${s} hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400`:"bg-gray-600 cursor-not-allowed"}`,style:{backgroundColor:s},children:n})]})]})})};Ft.__docgenInfo={description:"",methods:[],displayName:"LoginForm",props:{formName:{required:!0,tsType:{name:"string"},description:""},buttonColor:{required:!0,tsType:{name:"string"},description:""},buttonSize:{required:!0,tsType:{name:"string"},description:""},buttonName:{required:!0,tsType:{name:"string"},description:""},buttonPosition:{required:!0,tsType:{name:"string"},description:""},formField:{required:!0,tsType:{name:"Array",elements:[{name:"FormField"}],raw:"FormField[]"},description:""},dispatchEvent:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: CustomEvent) => void",signature:{arguments:[{type:{name:"CustomEvent"},name:"event"}],return:{name:"void"}}},description:""}}};class qe extends HTMLElement{constructor(){var n;super();ee(this,"shadow");ee(this,"root");ee(this,"buttonColor","bg-blue-500");ee(this,"buttonSize","px-6 py-3");ee(this,"formField",[]);ee(this,"formName","Login");ee(this,"buttonName","Login");ee(this,"buttonPosition","");this.shadow=this.attachShadow({mode:"open"});const t=document.createElement("style");t.textContent=`
      @import 'https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css';
    `,(n=this.shadowRoot)==null||n.appendChild(t),this.root=null}static get observedAttributes(){return["button-color","button-size","form-field","form-name","button-name","button-position"]}attributeChangedCallback(t,n,l){n!=l&&(t==="button-size"&&(this.buttonSize=l),t==="button-color"&&(this.buttonColor=l),t==="form-field"&&(this.formField=JSON.parse(l)),t==="form-name"&&(this.formName=l),t==="button-name"&&(this.buttonName=l),t==="button-position"&&(this.buttonPosition=l)),console.log("name=> ",t,"oldValue=> ",n,"new Value=> ",l),this.render()}connectedCallback(){this.render()}disconnectedCallback(){this.root&&this.root.unmount()}render(){this.root||(this.root=Pt.createRoot(this.shadow)),console.log("button color=> ",this.buttonColor,`
 button size`,this.buttonSize,`
 form field`,this.formField),this.root.render(W.jsx(Ft,{formName:this.formName,buttonName:this.buttonName,buttonPosition:this.buttonPosition,buttonColor:this.buttonColor,buttonSize:this.buttonSize,dispatchEvent:t=>this.dispatchEvent(t),formField:this.formField}))}}customElements.define("custom-form",qe);qe.__docgenInfo={description:"",methods:[{name:"observedAttributes",docblock:null,modifiers:["static","get"],params:[],returns:null},{name:"attributeChangedCallback",docblock:null,modifiers:[],params:[{name:"name",optional:!1,type:{name:"string"}},{name:"oldValue",optional:!1,type:{name:"string"}},{name:"newValue",optional:!1,type:{name:"string"}}],returns:null},{name:"connectedCallback",docblock:null,modifiers:[],params:[],returns:null},{name:"disconnectedCallback",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LoginWebComponent"};const dr={title:"Components/LoginWebComponent",component:qe,argTypes:{buttonColor:{control:"color"},buttonSize:{control:"text"},buttonName:{control:"text"},buttonPosition:{control:"text"},formName:{control:"text"},formField:{control:"object"}}},Ue=e=>{const s=M.useRef(null);return M.useEffect(()=>{var n;const t=document.createElement("custom-form");return t.setAttribute("button-color",e.buttonColor),t.setAttribute("button-size",e.buttonSize),t.setAttribute("button-name",e.buttonName),t.setAttribute("button-position",e.buttonPosition),t.setAttribute("form-name",e.formName),t.setAttribute("form-field",JSON.stringify(e.formField)),(n=s.current)==null||n.appendChild(t),()=>{s.current&&(s.current.innerHTML="")}},[e]),W.jsx("div",{ref:s})},ge=Ue.bind({});ge.args={formName:"Login",buttonColor:"bg-blue-500",buttonSize:"px-6 py-3",buttonName:"Login",buttonPosition:"self-center",formField:[{fieldLabel:"Username",fieldType:"text",fieldName:"username",placeholder:"Enter your username",validators:[{type:"required",message:"Username is required"},{type:"minLength",value:3,message:"Minimum 3 characters"}]},{fieldLabel:"Password",fieldType:"password",fieldName:"password",placeholder:"Enter your password",validators:[{type:"required",message:"Password is required"},{type:"minLength",value:6,message:"Minimum 6 characters"}]}]};const be=Ue.bind({});be.args={formName:"Login",buttonColor:"bg-green-500",buttonSize:"px-8 py-4",buttonName:"Sign In",buttonPosition:"self-start",formField:[{fieldLabel:"Email",fieldType:"email",fieldName:"email",placeholder:"Enter your email",validators:[{type:"required",message:"Email is required"},{type:"email",message:"Invalid email format"}]},{fieldLabel:"Password",fieldType:"password",fieldName:"password",placeholder:"Enter your password",validators:[{type:"required",message:"Password is required"},{type:"minLength",value:8,message:"Minimum 8 characters"}]}]};const he=Ue.bind({});he.args={formName:"Sign Up",buttonColor:"bg-purple-500",buttonSize:"px-10 py-4",buttonName:"Register",buttonPosition:"self-end",formField:[{fieldLabel:"Username",fieldType:"text",fieldName:"username",placeholder:"Enter your username",validators:[{type:"required",message:"Username is required"},{type:"minLength",value:3,message:"Minimum 3 characters"}]},{fieldLabel:"Email",fieldType:"email",fieldName:"email",placeholder:"Enter your email",validators:[{type:"required",message:"Email is required"},{type:"email",message:"Invalid email format"}]},{fieldLabel:"Password",fieldType:"password",fieldName:"password",placeholder:"Enter your password",validators:[{type:"required",message:"Password is required"},{type:"minLength",value:8,message:"Minimum 8 characters"}]},{fieldLabel:"Confirm Password",fieldType:"password",fieldName:"confirmPassword",placeholder:"Confirm your password",validators:[{type:"required",message:"Confirmation is required"},{type:"minLength",value:8,message:"Minimum 8 characters"}]}]};var at,ot,lt;ge.parameters={...ge.parameters,docs:{...(at=ge.parameters)==null?void 0:at.docs,source:{originalSource:`(args: any) => {
  const container = React.useRef<HTMLDivElement>(null);
  React.useEffect(() => {
    const element = document.createElement("custom-form");
    element.setAttribute("button-color", args.buttonColor);
    element.setAttribute("button-size", args.buttonSize);
    element.setAttribute("button-name", args.buttonName);
    element.setAttribute("button-position", args.buttonPosition);
    element.setAttribute("form-name", args.formName);
    element.setAttribute("form-field", JSON.stringify(args.formField));
    container.current?.appendChild(element);
    return () => {
      if (container.current) {
        container.current.innerHTML = "";
      }
    };
  }, [args]);
  return <div ref={container} />;
}`,...(lt=(ot=ge.parameters)==null?void 0:ot.docs)==null?void 0:lt.source}}};var ut,dt,ct;be.parameters={...be.parameters,docs:{...(ut=be.parameters)==null?void 0:ut.docs,source:{originalSource:`(args: any) => {
  const container = React.useRef<HTMLDivElement>(null);
  React.useEffect(() => {
    const element = document.createElement("custom-form");
    element.setAttribute("button-color", args.buttonColor);
    element.setAttribute("button-size", args.buttonSize);
    element.setAttribute("button-name", args.buttonName);
    element.setAttribute("button-position", args.buttonPosition);
    element.setAttribute("form-name", args.formName);
    element.setAttribute("form-field", JSON.stringify(args.formField));
    container.current?.appendChild(element);
    return () => {
      if (container.current) {
        container.current.innerHTML = "";
      }
    };
  }, [args]);
  return <div ref={container} />;
}`,...(ct=(dt=be.parameters)==null?void 0:dt.docs)==null?void 0:ct.source}}};var ft,mt,yt;he.parameters={...he.parameters,docs:{...(ft=he.parameters)==null?void 0:ft.docs,source:{originalSource:`(args: any) => {
  const container = React.useRef<HTMLDivElement>(null);
  React.useEffect(() => {
    const element = document.createElement("custom-form");
    element.setAttribute("button-color", args.buttonColor);
    element.setAttribute("button-size", args.buttonSize);
    element.setAttribute("button-name", args.buttonName);
    element.setAttribute("button-position", args.buttonPosition);
    element.setAttribute("form-name", args.formName);
    element.setAttribute("form-field", JSON.stringify(args.formField));
    container.current?.appendChild(element);
    return () => {
      if (container.current) {
        container.current.innerHTML = "";
      }
    };
  }, [args]);
  return <div ref={container} />;
}`,...(yt=(mt=he.parameters)==null?void 0:mt.docs)==null?void 0:yt.source}}};const cr=["Default","CustomButtonStyle","LargeForm"];export{be as CustomButtonStyle,ge as Default,he as LargeForm,cr as __namedExportsOrder,dr as default};
